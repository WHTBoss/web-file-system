<template>
    <div class="container-fluid">
        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>

        <div class="row">
            <div class="col-1 text-center">
                <span>管理员</span>
            </div>
            <div class="col-3 text-center  text-truncate">
                <span>XXXXXXX</span>
            </div>
            <div class="col-4 text-center text-truncate">
                <span>XXXXXXXXXXXXXXXXXX</span>
            </div>
            <div class="col-2 text-center">
                <button @click="changeTitle(message.title),changeContent(message.content)" class="btn btn-outline-primary btn-set"  data-toggle="modal" data-target="#exampleModal">浏览</button>
            </div>
            <div class="col-2 text-center">
                <button class="btn btn-outline-danger btn-set" @click="showToast">删除</button>
            </div>
        </div>



        <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-dialog-scrollable">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">XXXXXXXXX</h5>
                        </div>
                        <div class="modal-body">
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                             XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal" style="width: 100%;">关闭浏览</button>
                        </div>
                    </div>
                </div>
            </div>

    </div>
</template>


<script>
import axios from 'axios';
    export default{
        name:"TopMessage",
        data:function(){
            return{
                obj:Object,
                title:"",
                content:""
            }
        },
        methods:{
            showToast(){
                alert("该消息删除成功");
            // const res = axios.delete("http://localhost:10030" + '/feedback/deleteFeedbackByFid/' + fid);
            // res.then(Response=>{
            //     const res = axios.get("http://localhost:10030" + '/feedback/findAllByUser?username=' + window.sessionStorage.getItem("username"));
            //     res.then(Response=>{
            //         this.obj = Response.data.obj;
            //         console.log('请求成功:');
            //         console.log('请求成功响应对象获取',Response);
            //     });
            //     res.catch(Error=>{
            //         console.log('请求失败:');
            //         console.log('请求失败响应对象获取',Error);
            //     });
            //     console.log('请求成功:');
            //     console.log('请求成功响应对象获取',Response);
            //     alert("该消息已被删除！！！");
            // });
            // res.catch(Error=>{
            //     console.log('请求失败:');
            //     console.log('请求失败响应对象获取',Error);
            //     alert("该消息删除失败！！！");
            // });
             
            },
            changeTitle(title){
                this.title = title;
            },
            changeContent(content){
                this.content = content;
            }
        },
        mounted(){
            // 验证Session
            // 获取信息
            // const res = axios.get("http://localhost:10030" + '/feedback/findAllByUser?username=' + window.sessionStorage.getItem("username"));
            // res.then(Response=>{
            //     this.obj = Response.data.obj;
            //     console.log('请求成功:');
            //     console.log('请求成功响应对象获取',Response);
            // });
            // res.catch(Error=>{
            //     console.log('请求失败:');
            //     console.log('请求失败响应对象获取',Error);
            // });
        }
    }
</script>


<style scoped>
 .container-fluid{
    margin-top: 2vh;
    border: 0.3vw white solid;
    padding-top: 1vw;
    padding-bottom: 70vh;
 }
 .row{
    margin-top: 10px;
 }
 span{
    color: white;
    font-size: 2.5vw;
 }
 .btn-set{
    width: 90%;
    font-size: 2vw;
    border: 0.2vw white solid;
 }
.col-1,.col-2,.col-3,.col-4{
    padding: 0%;
}
</style>